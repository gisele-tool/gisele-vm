main:   then :entry0
entry0: then :state0
state0: then :entry1
        then :edge0
edge0:  push []
        event :hello
entry1: cont :state1
        save
state1: push {:ping=>:entry2, :goodbye=>:entry3}
        flip
        get
        skipnil
        then
entry2: then :state2
state2: then :entry1
        then :edge2
edge2:  push []
        event :pong
entry3: then :state3
state3: then :entry4
        then :edge4
edge4:  push []
        event :ciao
entry4: end
        save
